# Apex Admin

Apex Admin æ˜¯ä¸€ä¸ªåŸºäº React 19ã€Vite 7ã€Ant Design 6 å’Œ TailwindCSS 4 æ„å»ºçš„ç°ä»£åŒ–åå°ç®¡ç†ç³»ç»Ÿã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½å’Œçµæ´»çš„é…ç½®ï¼Œæ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›ä¸€ä¸ª**å¼€ç®±å³ç”¨**çš„é«˜æ•ˆå¼€å‘å¹³å°ã€‚

## âœ¨ ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½

-   **å¤šæ ‡ç­¾é¡µ KeepAlive (Multi-tab KeepAlive)**
    -   æ”¯æŒé¡µé¢ç¼“å­˜ï¼Œåˆ‡æ¢æ ‡ç­¾é¡µä¸ä¸¢å¤±çŠ¶æ€ã€‚
    -   æ”¯æŒæ ‡ç­¾é¡µæ‹–æ‹½æ’åºã€‚
    -   æ”¯æŒå³é”®èœå•ï¼šåˆ·æ–°ã€å…³é—­å½“å‰ã€å…³é—­å…¶ä»–ã€å…³é—­æ‰€æœ‰ã€‚

-   **åŒé¡µé¢å¤šå¼€ (Multi-instance)**
    -   æ”¯æŒåŒä¸€ä¸ªè·¯ç”±é€šè¿‡ä¸åŒå‚æ•°ï¼ˆQuery Parametersï¼‰å¼€å¯å¤šä¸ªç‹¬ç«‹çš„æ ‡ç­¾é¡µï¼ŒçŠ¶æ€äº’ä¸å¹²æ‰°ã€‚
    -   ä¾‹å¦‚ï¼š`/user/detail?id=1` å’Œ `/user/detail?id=2` ä¼šè¢«è§†ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„æ ‡ç­¾é¡µè¿›è¡Œç¼“å­˜ã€‚

-   **å¼€ç®±å³ç”¨ (Out of the box)**
    -   é›†æˆæœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé…ç½®å®Œå–„ï¼Œä¸‹è½½å³ç”¨ã€‚

### ğŸ“¡ ç½‘ç»œè¯·æ±‚ (Axios å°è£…)

é¡¹ç›®å†…ç½®äº†åŠŸèƒ½å¼ºå¤§çš„ Axios å°è£…ï¼Œä½äº `src/utils/http`ï¼Œå¯¼å‡ºé»˜è®¤çš„ Axios å®ä¾‹ã€‚å…·å¤‡ä»¥ä¸‹ç‰¹æ€§ï¼š

-   **æ‹¦æˆªå™¨é…ç½®**ï¼šè‡ªåŠ¨å¤„ç† Token æ³¨å…¥ã€è¯·æ±‚å‚æ•°è½¬æ¢ã€‚
-   **è‡ªåŠ¨å–æ¶ˆé‡å¤è¯·æ±‚**ï¼šé˜²æ­¢çŸ­æ—¶é—´å†…é‡å¤æäº¤ã€‚
-   **å…¨å±€é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€å¤„ç† HTTP çŠ¶æ€ç å’Œä¸šåŠ¡é€»è¾‘é”™è¯¯ã€‚
-   **Token æ— æ„Ÿåˆ·æ–°**ï¼šè‡ªåŠ¨å¤„ç† 401 è¿‡æœŸï¼Œé˜Ÿåˆ—é‡å‘è¯·æ±‚ã€‚
-   **Sentry é›†æˆ**ï¼šè‡ªåŠ¨ä¸ŠæŠ¥ API é”™è¯¯å’Œä¸šåŠ¡å¼‚å¸¸ã€‚
-   **ç±»å‹æ”¯æŒ**ï¼šå®Œå–„çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œæ‰©å±•äº† `AxiosRequestConfig`ã€‚
-   **çµæ´»é…ç½®**ï¼šæ”¯æŒé€šè¿‡ `requestOptions` è‡ªå®šä¹‰è¯·æ±‚è¡Œä¸ºã€‚

#### ä½¿ç”¨ç¤ºä¾‹

ç›´æ¥å¯¼å…¥é»˜è®¤å®ä¾‹ï¼ˆé€šå¸¸å‘½åä¸º `request` æˆ– `http`ï¼‰è¿›è¡Œä½¿ç”¨ã€‚

```typescript
import request from '@/utils/http';

enum Api {
  Login = '/login',
  GetUserInfo = '/user/info',
}

// GET è¯·æ±‚
export const getUserInfo = () => {
  return request.get<UserInfo>(Api.GetUserInfo);
};

// POST è¯·æ±‚ï¼Œè‡ªå®šä¹‰é€‰é¡¹
export const login = (data: LoginParams) => {
  return request.post<LoginResult>(Api.Login, data, {
    // è‡ªå®šä¹‰è¯·æ±‚é…ç½®
    requestOptions: {
      errorMessageMode: 'modal', // é”™è¯¯å¼¹çª—æ˜¾ç¤º
      withToken: false,          // ä¸æºå¸¦ Token
    }
  });
};
```

#### é…ç½®é¡¹ (RequestOptions)

`requestOptions` ä½œä¸º `AxiosRequestConfig` çš„æ‰©å±•å±æ€§ä¼ å…¥ï¼š

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
| --- | --- | --- | --- |
| `joinParamsToUrl` | `boolean` | `true` | æ˜¯å¦å°† params æ‹¼æ¥åˆ° URL |
| `isTransformResponse` | `boolean` | `true` | æ˜¯å¦å¤„ç†å“åº”æ•°æ®ï¼ˆç›´æ¥è¿”å› data.dataï¼‰ |
| `isReturnNativeResponse` | `boolean` | `false` | æ˜¯å¦è¿”å›åŸç”Ÿå“åº”å¤´ |
| `ignoreCancelToken` | `boolean` | `false` | æ˜¯å¦å¿½ç•¥å–æ¶ˆé‡å¤è¯·æ±‚ |
| `withToken` | `boolean` | `true` | æ˜¯å¦æºå¸¦ Token |
| `errorMessageMode` | `'none' \| 'modal' \| 'message'` | `'message'` | é”™è¯¯æ¶ˆæ¯æç¤ºæ–¹å¼ |

### ğŸ¨ ä¸»é¢˜ä¸ä¸ªæ€§åŒ–

é€šè¿‡å†…ç½®çš„è®¾ç½®æŠ½å±‰ï¼ˆSettings Drawerï¼‰ï¼Œæ‚¨å¯ä»¥å®æ—¶é¢„è§ˆå¹¶ä¿®æ”¹ç³»ç»Ÿå¤–è§‚ï¼š

-   **æ˜æš—ä¸»é¢˜ (Light/Dark Mode)**ï¼šä¸€é”®åˆ‡æ¢äº®è‰²å’Œæš—è‰²æ¨¡å¼ï¼Œé€‚é…ä¸åŒå…‰ç…§ç¯å¢ƒã€‚
-   **å¸ƒå±€åˆ‡æ¢ (Layout Options)**ï¼šæ”¯æŒä¾§è¾¹èœå•å’Œé¡¶éƒ¨èœå•å¸ƒå±€ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ã€‚
-   **ä¸»é¢˜è‰²å˜æ›´ (Theme Color)**ï¼šé¢„ç½®å¤šç§ä¸»é¢˜è‰²ï¼Œä¹Ÿå¯è‡ªå®šä¹‰ä¸»è‰²è°ƒã€‚
-   **å­—ä½“è®¾ç½® (Font Settings)**ï¼šæ”¯æŒå…¨å±€å­—ä½“å¤§å°è°ƒæ•´ã€‚
-   **ç´§å‡‘æ¨¡å¼ (Compact Mode)**ï¼šæä¾›æ›´ç´§å‡‘çš„ç•Œé¢å¸ƒå±€ï¼Œå±•ç¤ºæ›´å¤šä¿¡æ¯ã€‚
-   **åœ†è§’è®¾ç½® (Border Radius)**ï¼šå…¨å±€æ§åˆ¶ç»„ä»¶çš„åœ†è§’å¤§å°ï¼Œé£æ ¼éšå¿ƒå®šåˆ¶ã€‚

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

-   **React 19**
-   **Vite 7**
-   **Ant Design 6**
-   **TailwindCSS 4**
-   **TypeScript**
-   **React Router 7**

## ğŸ“¦ å®‰è£…ä¸å¯åŠ¨

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç¯å¢ƒ
npm run build
```

## é¢„è§ˆ

> (åœ¨æ­¤å¤„æ·»åŠ é¡¹ç›®æˆªå›¾)

---

**Apex Admin** - æ‚¨çš„ä¸‹ä¸€ä»£åå°ç®¡ç†ç³»ç»Ÿè§£å†³æ–¹æ¡ˆã€‚
